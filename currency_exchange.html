<!DOCTYPE html>
<html>
<head>
  <title>Exchange Rate Fetch Example</title>
</head>
<body>
  <h1>Exchange Rate Fetch Example</h1>
  <label for="usdAmount">Enter USD amount:</label>
  <input type="number" id="usdAmount" step="0.01" placeholder="Enter amount" />
  <button onclick="convertCurrency()">Convert to AZN</button>
  <p>Equivalent amount in Azerbaijani Manat (AZN): <span id="aznAmount"></span></p>

  <script>
    // Function to fetch exchange rate data from the API
    function fetchExchangeRate() {
      // Replace 'YOUR_API_KEY' with your actual API key from ExchangeRate-API
      const apiKey = '622020a39d12eb23e71755f1';
      const currencyBase = 'USD'; // Change to USD
      const currencyTarget = 'AZN';

      const apiUrl = `https://v6.exchangerate-api.com/v6/${apiKey}/latest/${currencyBase}`;

      return fetch(apiUrl)
        .then(response => response.json())
        .then(data => data.conversion_rates[currencyTarget])
        .catch(error => {
          console.error('Error fetching exchange rate:', error);
        });
    }

    // Function to convert USD to AZN
    function convertCurrency() {
      const usdAmount = parseFloat(document.getElementById('usdAmount').value);
      if (isNaN(usdAmount)) {
        alert('Please enter a valid number for the USD amount.');
        return;
      }

      fetchExchangeRate()
        .then(exchangeRate => {
          // Calculate the equivalent amount in AZN
          const aznAmount = usdAmount * exchangeRate;

          // Update the content of the HTML element with the calculated AZN amount
          document.getElementById('aznAmount').textContent = aznAmount.toFixed(2);
        });
    }
  </script>
</body>
</html>
